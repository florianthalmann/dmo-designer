<!doctype html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="stylesheets/main.css">
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.min.js"></script>
	<script src="scripts/app.js"></script>
	<script src="scripts/dmomanager.js"></script>
	<script src="scripts/dmo.js"></script>
	<script src="scripts/rendering.js"></script>
	<script src="scripts/parameter.js"></script>
	<script src="scripts/featureloader.js"></script>
	<script src="scripts/audio/scheduler.js"></script>
	<script src="scripts/audio/source.js"></script>
	<script src="scripts/audio/AudioSampleLoader.js"></script>
	<script src="scripts/services/d3.js" charset="utf-8"></script>
	<script src="scripts/controllers/dmocontroller.js"></script>
	<script src="scripts/controllers/renderingcontroller.js"></script>
	<script src="scripts/directives/dmobubbles.js"></script>
	<script src="scripts/directives/dmograph.js"></script>
	<script src="scripts/directives/dmocoordinates.js"></script>
</head>
<body ng-app="dmoDesigner">
	<div>
		<h1>DMO Designer</h1>
		<div ng-controller="DmoController">
			<div>
				<button ng-click="dmo.addDmo()">Add DMO</button>
				<span>feature file:</span>
				<input type="text" ng-model="featureFile"></input-->
				<span>condition:</span>
				<input type="text" ng-model="labelCondition" size="2"></input-->
				<button ng-click="addChildrenFromFeatures()">Add Features</button>
				<button ng-click="play()">Play</button>
				<button ng-click="stop()">Stop</button>
			</div>
			<div ng-controller="RenderingController">
				<span>mapping type:</span>
				<select ng-init="selectedMappingType = mappingTypes[0]" ng-model="selectedMappingType" ng-options="t.name for t in mappingTypes"></select>
				<span ng-show="selectedMappingType == mappingTypes[0]">
					feature:
					<select ng-init="selectedFeature = dmo.features[0]" ng-model="selectedFeature" ng-options="p.name for p in dmo.features"></select>
				</span>
				<span ng-show="selectedMappingType == mappingTypes[1]">
					control:
					<select ng-init="selectedControl = controls[0]" ng-model="selectedControl" ng-options="c.name for c in controls"></select>
				</span>
				<span>function: y = </span>
				<input type="text" ng-model="mappingFunction" size="7"></input-->
				<span>parameter:</span>
				<select ng-init="selectedParameter = parameters[0]" ng-model="selectedParameter" ng-options="p.name for p in parameters"></select>
				<button ng-click="addMapping()">Add Mapping</button>
			</div>
			<div>
				<span>view:</span>
				<select ng-init="selectedView = views[0]" ng-model="selectedView" ng-options="v.name for v in views"></select>
				<span>x-axis:</span>
				<select ng-init="viewParams.xAxis.param = dmo.features[0]" ng-model="viewParams.xAxis.param" ng-options="p.name for p in dmo.features"></select>
				<input type="checkbox" ng-init="viewParams.xAxis.log = false" ng-model="viewParams.xAxis.log"></input>
				<span>y-axis:</span>
				<select ng-init="viewParams.yAxis.param = dmo.features[1]" ng-model="viewParams.yAxis.param" ng-options="p.name for p in dmo.features"></select>
				<input type="checkbox" ng-init="viewParams.yAxis.log = false" ng-model="viewParams.yAxis.log"></input>
				<span>size:</span>
				<select ng-init="viewParams.size.param = dmo.features[1]" ng-model="viewParams.size.param" ng-options="p.name for p in dmo.features"></select>
				<input type="checkbox" ng-init="viewParams.size.log = false" ng-model="viewParams.size.log"></input>
				<span>color:</span>
				<select ng-init="viewParams.color.param = dmo.features[2]" ng-model="viewParams.color.param" ng-options="p.name for p in dmo.features"></select>
				<input type="checkbox" ng-init="viewParams.color.log = false" ng-model="viewParams.color.log"></input>
			</div>
			<div ng-show="selectedDmo">
				<span>selected: {{selectedDmo.name}}</span>
				<!--input type="range" min="0" max="200" ng-model="selectedDmo.size"></input-->
			</div>
			<div ng-if="selectedView == views[0]">
				<dmo-coordinates data="dmo.graph" viewparams="viewParams" playing="dmo.playingDmos" label="name" on-click="dmoOnClick(item)"></dmo-coordinates>
			</div>
			<div ng-if="selectedView == views[1]">
				<dmo-graph data="dmo.graph" viewparams="viewParams" label="name" on-click="dmoOnClick(item)"></dmo-graph>
			</div>
			<!--div ng-show="selectedVisuals == views[2]">
				<dmo-bubbles data="dmoList" label="name" on-click="dmoOnClick(item)"></dmo-bubbles>
			</div-->
		</div>
	</div>
</body>
</html>